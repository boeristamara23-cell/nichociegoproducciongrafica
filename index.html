<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nicho Ciego</title>

  <!-- Tipograf√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Mulish&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap" rel="stylesheet">

  <style>
    :root {
      --text:#e5e5e5;
      --gold:#c6a664;
      --accent:#5C1E2D;
      --goth:'UnifrakturMaguntia', cursive;
      --mono:'Mulish', sans-serif;
    }

    body {
      margin:0;
      background:black;
      color:var(--text);
      font-family:var(--mono);
      overflow:hidden;
      position:relative;
    }

    /* üéõ Fondo glitch */
    body::before {
      content:"";
      position:fixed; inset:0;
      background:
        repeating-linear-gradient(to bottom, rgba(255,255,255,0.06) 0px, rgba(0,0,0,0.2) 2px),
        linear-gradient(90deg, rgba(255,0,0,0.05), rgba(0,255,255,0.05));
      pointer-events:none;
      z-index:5;
      animation:flicker 2s infinite, glitchshift 4s infinite, powerdrop 6s infinite;
      mix-blend-mode:screen;
    }
    @keyframes flicker {0%,100%{opacity:0.5;}50%{opacity:0.3;}}
    @keyframes glitchshift {
      0%{transform:translate(0,0);}20%{transform:translate(-1px,1px);}
      40%{transform:translate(2px,-1px);}60%{transform:translate(-2px,1px);}
      80%{transform:translate(1px,-2px);}100%{transform:translate(0,0);}
    }
    @keyframes powerdrop {0%,90%,100%{opacity:1;}92%{opacity:0.6;}94%{opacity:0.2;}96%{opacity:0.8;}}

    /* Pantalla inicio */
    #startScreen {
      position:fixed; inset:0; background:black;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      z-index:9999;
    }
    #startScreen h2 {
      color:#f00; font-family:'Courier New', monospace;
      text-shadow:0 0 8px #f00; margin-bottom:20px; text-align:center;
    }
    #startScreen button {
      padding:20px 40px; background:black; color:#f00; border:2px solid #f00;
      font-size:18px; font-weight:bold; cursor:pointer; text-shadow:0 0 6px #f00;
    }
    #startScreen button:hover {background:#f00; color:black;}

    /* Contenido */
    .container {text-align:center; padding:40px 20px; position:relative; z-index:20;}
    .logo img {width:180px; margin-bottom:15px; filter: drop-shadow(0 0 8px var(--accent));}
    h1 {font-family:var(--goth); font-size:3em; text-shadow:0 0 6px var(--accent), 0 0 12px var(--gold);}
    .typewriter {margin:20px auto; max-width:700px; font-size:1em; text-align:center; white-space:pre-line; min-height:200px;}

    /* Cartas */
    .card {position:absolute; width:180px; perspective:1000px; z-index:5;}
    .card-inner {width:100%; transition: transform 1s; transform-style: preserve-3d; animation:flip 5s infinite;}
    .card-front, .card-back {position:absolute; width:100%; height:100%; backface-visibility:hidden;}
    .card-front img, .card-back img {width:100%; display:block; border-radius:10px;}
    .card-back {transform:rotateY(180deg);}
    @keyframes flip {
      0%,40%{transform:rotateY(0deg);}
      50%,90%{transform:rotateY(180deg);}
      100%{transform:rotateY(0deg);}
    }
    #wanda {top:30%; left:5%;}
    #cafe {top:55%; right:8%;}
    #marley {top:20%; right:25%;}

    /* Bot√≥n presentaci√≥n */
    .btn {
      margin-top:40px; padding:14px 32px; font-size:1.1em;
      background:#000; color:var(--text); border:2px solid var(--gold);
      border-radius:6px; cursor:pointer; transition:.3s;
      box-shadow:0 0 12px var(--accent); text-decoration:none; display:inline-block;
    }
    .btn:hover {background:var(--gold); color:#000; box-shadow:0 0 12px var(--gold);}

    /* Murci√©lagos */
    .bat {
      position:absolute;
      filter: drop-shadow(0 0 12px rgba(0,0,0,0.8));
      opacity:0.95;
      animation: flap 0.5s infinite, flyPath 8s linear forwards;
      z-index:50;
    }

    @keyframes flap {
      0%,100% { transform:scaleY(1); }
      50% { transform:scaleY(0.85); }
    }

    @keyframes flyPath {
      0% { transform:translateY(0) translateX(0) rotate(0deg); opacity:1; }
      25% { transform:translateY(-120px) translateX(80px) rotate(-10deg); }
      50% { transform:translateY(-60px) translateX(180px) rotate(8deg); }
      75% { transform:translateY(-150px) translateX(260px) rotate(-5deg); }
      100% { transform:translateY(400px) translateX(420px) rotate(15deg); opacity:0; }
    }
  </style>
</head>
<body>
  <!-- Pantalla de inicio -->
  <div id="startScreen">
    <h2>Bienvenido agente,<br>pulse para iniciar la misi√≥n.</h2>
    <button onclick="startGame()">Infiltrarse</button>
  </div>

  <!-- Audio -->
  <audio id="bg-audio" src="sonido.mp3" preload="auto"></audio>

  <!-- Contenido -->
  <div class="container">
    <div class="logo"><img src="logo.png" alt="Nicho Ciego Logo"></div>
    <h1>Nicho Ciego</h1>
    <div class="typewriter" id="story"></div>
    <a href="presentacion.pdf" target="_blank" class="btn">Presentaci√≥n</a>
  </div>

  <!-- Cartas -->
  <div class="card" id="wanda">
    <div class="card-inner">
      <div class="card-front"><img src="wanda.png" alt="Srta. Wanda"></div>
      <div class="card-back"><img src="dorso.png" alt="Dorso"></div>
    </div>
  </div>
  <div class="card" id="cafe">
    <div class="card-inner">
      <div class="card-front"><img src="cafe.png" alt="Caf√©"></div>
      <div class="card-back"><img src="dorso.png" alt="Dorso"></div>
    </div>
  </div>
  <div class="card" id="marley">
    <div class="card-inner">
      <div class="card-front"><img src="marley.png" alt="Sr. Marley"></div>
      <div class="card-back"><img src="dorso.png" alt="Dorso"></div>
    </div>
  </div>

  <script>
    // Texto m√°quina de escribir
    const text = `Originalmente titulado "Before I Kill You, Mr. Bond", 
"Nicho Ciego" es un juego de roles sobre esp√≠as, adaptado al espa√±ol argentino 
para darle identidad local. 

Los personajes fueron reinterpretados como esp√≠as inspirados en figuras de la cultura argentina, 
como ‚ÄúSr. Marley‚Äù o ‚ÄúSrta. Wanda‚Äù. 

Este cambio aporta cercan√≠a, humor y un v√≠nculo m√°s fuerte con el p√∫blico.`;

    let i = 0;
    function typeWriter() {
      if (i < text.length) {
        document.getElementById("story").innerHTML += text.charAt(i);
        i++;
        setTimeout(typeWriter, 40);
      }
    }

    // ü¶á Murci√©lagos con una sola imagen bat1.png
    function createBat() {
      const bat = document.createElement("img");
      bat.src = "bat1.png"; // üëà tu archivo
      bat.classList.add("bat");
      const size = Math.random()*120 + 80; // tama√±o variable
      bat.style.width = size + "px";
      bat.style.left = Math.random()*window.innerWidth + "px";
      bat.style.top = Math.random()*window.innerHeight + "px";
      document.body.appendChild(bat);
      setTimeout(()=>bat.remove(),8000);
    }

    function releaseBats(num=20) {
      for(let i=0; i<num; i++) createBat();
    }

    function randomBats() {
      let delay = (Math.random()*8000)+5000;
      setTimeout(()=>{ releaseBats(8+Math.floor(Math.random()*5)); randomBats(); }, delay);
    }

    // Apenas abre la p√°gina
    window.onload = () => { releaseBats(40); };

    // Iniciar misi√≥n
    function startGame() {
      document.getElementById("startScreen").style.display="none";
      document.getElementById("bg-audio").play().catch(()=>{});
      randomBats();
      typeWriter();
    }
  </script>
</body>
</html>
